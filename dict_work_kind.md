### Настройка списка работ (списка "Работы")  

<br>

**Работы** - перечень строительных работ, потенциально доступных на данном объекте.   

Система должна предоставлять пользователю возможность _создавать_, _просматривать_, _редактировать_ и _удалять_ список доступных работ, а также формировать из числа доступных работ (плоский список работ) список работ на объекте (доступны для учёта в шахматке и поддерживают уровни вложенности).  

Статус "выбрана" / "не выбрана" для работы из списка доступных работ означает, что данная работа входит / не входит в список работ на объекте.  
<br>

<img width="727" alt="image" src="https://user-images.githubusercontent.com/122552428/212556648-078c9611-9280-40ef-baaf-ca7692968db7.png">
<br>

**Создание списка доступных работ**

1. Для каждого объекта, расположенного в главном меню, пользователь должен иметь возможность создать список работ:  
    1. Если к объекту не приклеплено работ, система отобразит стартовый экран с предложением заполнить список работ; 
    2. Если к объекту приклеплена хотя бы одна работа, перед загрузкой новых работ из файла / шаблона / другой шахматки система всегда предлагает пользователю подтвердить действие (заменить уже существующие работы / ~~добавить новые работы в существующий список~~ / отмена):
        1. По умолчанию все вновь добавленные работы получают статус "выбрана".   
        <br>
    3. ~~Пользователь может создавать список работ из файла ТКП (технико-коммерческое предложение):~~  
        1. ~~Будет реализовано, когда будет понимание структуры ТКП~~  
    4. Пользователь может создавать список работ вручную. При нажатии на соответствующий элемент интерфейса система:  
        1. запросит **наименование работы** и **единицы измерения**;  
        2. добавит одну новую работу в существующий список доступных работ согласно алфавитному порядку;  
        3. новая работа по умолчанию получает статус "выбрана".  
    5. Пользователь может создавать список работ, склонировав его из другой шахматки:  
        1. пользователь может клонировать список работ из своих шахматок и из шахматок других пользователей, к которым имеет доступ;  
        2. пользователь может клонировать список работ только из тех шахматок, список работ в которых не пустой;  
        3. при выборе шахматки для клонирования списка работ должны отображаться:  
            - Название шахматки (должно стать уникальным для пользователя?),  
            - Автор шахматки (позволит различить три шахматки "Без названия").  
            - ~~совокупное число доступных работ.~~  
            - Шахматки пользователя должны быть визуально отделены от Шахматок, к которым у пользователя есть доступ. Шахматики пользователя должны быть более доступными (отображаться выше);
            - По умолчанию дропдаун не заполнен. 
        4. После создания списка доступных работ все элементы в нем по умолчанию получают статус "выбрана".  
<br>

#### Формирование списка работ на объекте (группировка / просмотр / редактирование / разгруппировка)

<br>

1. Система предоставляет возможность:
    1. создавать и пополнять _**список работ на объекте**_ элементами _**списка допустимых работ**_ путем проставления последним статусов "выбрана" (т.е. добавлять элементы в корень структуры _**список работ на объекте**_);
    2. удалять элементы из _**списка работ на объекте**_ путем проставления работе статуса "не выбрана"
    3. группировать элементы _**списка работ на объекте**_ в группу работ,
        1. группа может содержать одну или 0 работ;
    5. группировать группы работ в группу следующего уровня;
    7. перемещать элементы _**списка работ на объекте**_:
        1. между группами одной степени вложенности,
        2. между группами разной степени вложенности (в том числе класть работу в корень списка);
    8. ~~перемещать группы _**списка работ на объекте**_:~~
        1. ~~между группами одной степени вложенности,~~
        2. ~~между группами разной степени вложенности (в том числе класть группу в корень списка);~~
    10. упразднять группу;
2. Система предоставляет пользователю возможность быстро **выбрать все работы** и **снять выбор всех работ**:
    1. на корневом уровне _**списка работ на объекте**_ (выбор всех работ, отображаемых в шахматке);
    2. в рамках группы работ;
    3. система должна предоставлять пользователю возможность выбрирать отдельные работы для действий.
<br>

#### Просмотр списка доступных работ

1. Система предоставляет пользователю возможность быстро **выбрать все работы** и **снять выбор всех работ**:
    1. на корневом уровне _*cписка доступных работ*_ (выбор всех потенциально доступных работ, привязанных к данному объекту);
3. Система должна предоставлять пользователю возможность просматривать список доступных работ и список работ на объекте~~. Для списка доступных работ (плоский) должны отображаться:
    1. наименования работ
    2. число выбранных работ (агрегирующий параметр)
    3. число доступных работ (агрегирующий параметр)
4. Система должна предоставлять пользователю возможность осуществлять поиск работ по списку доступных работ. Во время поиска:
    1. для каждой найденной работы отображается текущий статус работы - "выбрана" / "не выбрана" для работы на объекте;
    2. если в группе работа есть работа, имя которой имеет совпадение с запросом поисковой строки, отображать всю группу. 

<br>




#### Редактирование списка доступных работ

<br>

1. Система должна предоставлять пользователю возможность объединить два и более списка работ в один (через модалку при добавлении работ, через полноценную функциональность либо иначе);
    1. работы импоритируются из файла / шаблона/ другой шахматки
        1. вместе с их структурой группировок;
        2. с сохранением статусов "выбрана".
3. Для каждой работы в списке доступных работ пользователь может изменить параметры:
    1. название работы,
    2. единицы измерения.
    3. Система должна иметь защиту от внесения случайных изменений в параметры работ (?)
4. Статусы "выбрана" для
5. фыва

<br>



#### Удаление списка доступных работ

<br>

1. Система должна предоставлять пользователю возможность удалить выбранные работы. При нажатии на соответствующий элемент интерфейса система:  
    1. запросит подтверждение об удалении для пользователя;  




