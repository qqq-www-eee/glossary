!!!
> Из интересного: в полях ~~работ или тасок или~~ помещений желательно в какой-то момент отразить тип помещения:
> - "Квартира",
> - "МОП",
> - "ЛК",
> - "ЛХ",
> - "Вестибюль".

!!!

> Необходимо добавить почасовые работы:
> - добавить в таблицу units единицу измерения "час"
> - добавить в список работ следующие работы (насчет скобок вопрос):
>   - 1 - Ремонт наливного пола ЛК (ЧАС)
>   - 2 - Монтаж панелей албес после демонтажа смежниками (ЧАС)
>   - 3 - Монтаж подрезков плитки и кабанчика (ЧАС)
>   - 4 - Зачеканка некратных мест (ЧАС)
>   - 5 - Замазка штроб и подрозетников (ЧАС)
>   - 6 - Подготовка под покраску калошницы ЛК (ЧАС)
>   - 7 - Мелкие работы по подвалу (ЧАС)
>   - 8 - Шлифовка ступеней ЛК (ЧАС)
>   - 9 - Реставрация (ЧАС) - доработка/исправление работ после смежников, доделки мелкие - но это, видимо, обобщающее название, пришло отдельно.

!!!

> - Из пользователей надо убрать Имя и Должность при выдаче доступа - просто телефон указываем пока что! Мы от алиасов и в силу экономии ресурсов отказались, и еще в пользу того, что если в нарядах автора указывать, то им надо друг друга во-первых реальные имени видеть, а во-вторых все равно они кликухи друг друга увидят, обидно будет.  
> - ReadytoPay нужно убрать из рабочих статусов и сделать отдельный статус об оплате: "Ничего", "Готов к оплате", "Оплачен".   
> - Нужна новая табличка, содержащая отметки от уже произведенных процентовках, об выплатах, объемах и так далее.  
> - А в чем проблема, если таска живет неделю? и что она источник следующей таски?  
> - кстати, в шахматке может быть интересно смотреть абсолютные или процентные значения как в отдефектованном помещении, так и в остатке, который был на начало текущей недели, а еще может быть интересно видеть процент от запланированного объема работ для конкретно этого человека в конкретно этой неделе.  
> - Пользователь сам должен перед созданием наряда надо все интересующие его работы перевести именно в статус "Завершено" - хорошо бы его этому прямо словами через рот обучить.  
> - Также обучить фильтрам по сдельным и почасовым работам также явно.  
> - Надо формализовать, какая работа в итоге пойдет во вновь формируемый наряд!!!  
> - Еще раз, каковы минусы того, что таска на остаток создается новая: короче, это дело вкуса!!! Реально абсолютно без разницы что взять за икс.  
> - Допустим, Иван делал 40% штукатурки в квартире. Следующие 40% должен сделать Анарбек. А последнине 20% надо отдать Михаилу. Смотрим, что проиходит с метриками:  

!!!

> - ЛИМИТЫ 100% будут, и от того, что там потребуется, зависит, как нам удобнее строить работу с тасками. То бишь - откуда проще доставать общую стоимость произведенных работ по данному помещению.  
> - Надо понять, что будет происходить с фактической стоимостью работ, с планируемой стоимоостью работ на текущий момент, на планируемую стоимость работ на старте - с точки зрения лимитов и юнит-экономики.  
> - Что мы будем делать, если процентовка работ оплачена и потом мы хотим уменьшить в работе объем сделанной работы? Нотификацию с невозможностью это сделать и предложением пойти и перевести статус того наряда в notPaid (будем потом еще бухгалтерию уведомлять? вряд ли)  
> - 7. Каждый раз, когда пользователь меняет в боковой панели объем готовых работ, он не может их уменьшить, если у него есть проводки по данной таске в нарядах!!!  
> - Описать, что такое перерасход, что такое процент готовности помещения к сдаче и как они друг с другом соотносятся (метрика 1)  
> - Описать, плановую готовность к сдаче и плановый перерасход (метрика 2)  
> - Описать, процент готовности запланированного на неделю (метрика 3)  
> - Файл должен быть pdf, не xlsx.   

!!!

> - кумулятивный объем работ, который сделан к настоящему, отражен в ведомости работ, это отдельный файл  
> - Остаток работ на начало текущей недели нас обычно не интересует и нигде не отражен? Остатка отдельно  нет, для технадзоров в принципе можно этот показатель - добавить - Но обычно сами прикидывают они, там вычесть план факт и все  
> - Внизу итог собрать? Ну в реестре так точно нужно будет  
> - Работы на проверку сдают в пятницу, в среду технадзор все проверил и сформировал наряд на оплату. Так каждую неделю.
> - Прораб назначает мастеру или бригаде работу, они ее выполняют и отправляют запрос (сейчас через бот) на приемку. Технадзор получает заявки, распечатывает (где, что, кто) и идет на осмотр. Если по работе есть замечания, он их фиксирует их и отправляет мастерам на доработку, если замечаний нет, то заявка уходит в наряд, наряд в реестр на оплату в бухгалтерию. Прежде чем окончательно сформировать наряд, технадзор получает согласование со склада о том, что у работника на руках весь выданный инструмент в целостности и сохранности.
> - Процентовка в реестрах не нужна, а вот в нарядах вполне да, так будет понимание по качеству!
> - Иногда пишут %, иногда в ед. изм. пишут удержание (-18), т.е. от данной листики -18м2 - ???
> - ИНТЕРЕСНОЕ: Чтобы отображался % закрытия, нужно знать общий объем работ на этом этаже - то бишь нам хорошо бы иметь лимиты по этажу, по квартире, по секции. При этом нам надо понимать процент закрытия, расходы факт, расход план, лимит. 
> - Бывают ли подразделения у нас? Давайте ближе к 1С будем говорить о подразделениях.

!!!

### Определения

Обычно:  
1. **Заказ-наряд (наряд)** - формируемый перед началом работ документ, содержащий название-описание предстоящих работ для конкретного работника (обычно на ближайшую неделю), в которой ставится его подпись и подпись выдавшего работу начальника (прораба, мастера участка). В конце, после выполнения работ, подпись в наряде также ставит приемщик работ (технадзор) и в конце кто-то из бухгалтерии. Наряд - это срез вдоль работ в определенный момент времени.  
Обычно в ПИК эта формальная процедура опускается: наряды раздаются людям в устрой форме в штабе.  
2. **Табель** - таблица учета почасовых (поденных, повременных и пр.) работ; вид работа один и тот же. Табель - это срез вдоль времени для конкретной работы. Также табель - это уже закрытый график по часам за период.  
3. На основании наряда или табеля в 1С создаются **ведомости на счета** ("ведомость на выплату заработной платы на счета сотрудников") и **начисления**.

Строительная специфика:  
1. **Наряд** (он же "отчет") - таблица, отражающая объёмы любых выполненных работ (сдельных, почасовых) за определенный период (обычно за последнюю неделю) одновременно по всем работникам в подчинении определенного прораба/прорабов в тех помещениях, за которым закреплен данный технадзор. Наряды в любом случае закрывются технадзорами.  
2. **Реестр на выплату** - документ, формируемый руководителем координации (т.е спец человеком, который их проверяет и уже сам отправляет в бухгалтерию) по закрытии наряда, с указанием в нем сумм к выплате:

| ФИО                       | Начислено  | Удержано | Оплачено | К оплате  |
| ------------------------- | ---------- | -------- | -------- | --------- |
| Арутюнян Абдулла Саидович | 1 026,00   |          | 1 026    |           |
| Арутюнян Анна Иванована   | 197 097,80 |          |          | 197 097,8 |

Далее реестр идет в бухгалтерию, в проводки.

## Наряды и реестры на выплату. Частичное закрытие работ

На стройке каджая работа в конце своего жизненного цикла должна быть закончена и оплачена, другого пути у нее нет. Она может делаться по частям (более одной недели), и даже каждую неделю иметь нового исполнителя, но в итоге все они в сумме должны будут покрыть тот объем, который изначально был продиктован дефектовкой.
Процесс частичной оплаты труда иногда называют **процентовкой** (у нас - **частичное закрытие наряда**, потому что проценты не всегда отображаем, но их все равно прикидывают в уме).

Работы бывают: **сдельными** (подавляющее большинство) и **почасовыми**. Почасовые работы, как правило, представлены разнообразными мелкими доработками.  
Важно знать что закрывалось по часам, а что сдельно. Также работы там просто отдельные.
Часовщики есть не всегда.  

Технически мы реализуем работу сдельщиков и часовщиков одинаково (в тасках, отчетах, нарядах, реестрах и пр.). Требование бизнеса о том, что их "схлопывать не стоит" реализуем через обучение пользователя выставлять правильные фильтры при закрытии нарядов.

### Требования к НАРЯДОВ (в рамках списка нарядов):

Одно из ключевых свойств наряда - его неизменяемость. Никакие его данные невозможно редактировать, кроме статуса ("Сформирован", "Оплачен", "Удален") и комментария ("Наряд по просьбе Васильиваныча") и также нигде не используются ссылки на какие-либо сущности поля. Наряд - слепок определенного состояния шахматки за определенное время Сейчас настоящее удаление наряда (из БД) невозможно.

| №   | Название                 | Комментарий                                     | Изменяемое? |
| --- | ------------------------ | ----------------------------------------------- | ----------- |
| 1   | **Номер наряда**         | Натуральное число для удобства в UX             | -           |
| 2   | **Дата-время создания**  | Дата-время создания наряда                      | -           |
| 3   | **Начало периода**       | Поле "За период" - стартовая дата-время         | -           |
| 4   | **Окончание периода**    | Поле "За период" - дата-время окончания периода | -           |
| 5   | **ФИО автора**           | Как автор звался на момент создания наряда у себя в учетной записи (не как в доступах у создателя шахматки, но сейчас это одно и то же) | -           |
| 6   | **Должность автора**     | Как автор звался на момент создания наряда у себя в учетной записи (не как в доступах у создателя шахматки, но сейчас одно и то же) | -           |
| 7   | **Статус**               | "Сформирован" / "Оплачен" / "Удален"            | YES         |
| 8   | **Комментарий к наряду** | Название наряда, до 255 символов                | YES         |
| 9   | ~~**Дата оплаты**~~      |~~Разумное желание, но невозможно отследить в текущей концепции~~| - |
| 10  | ~~**Тип работ**~~        |~~Имеет смысл различать почасовые и сдельные работы - но мы выучим пользователя работать с фильтрами~~| - |

<br>

**Как сейчас:**  

<img width="1000" alt="old list of orders" src="photo_2023-01-26_18-05-36.jpg">

**Как надо:**  

<img width="1000" alt="new list of orders" src="Frame 12.png">

<br>

И где-то прям тут же должна быть ссылка на просмотр "Реестра на выплату" - это навреное в бэклог положить надо. Потому что реестр по-другому выглядит. У нас наряды все-таки.

<br>

1. Номер наряда - для каждого нового наряда это следующее натуральное число.
2. Если когда-либо будет реализовано удаление наряда (жесткое, прямо из базы), все равно номер продолжает возрастать по отношению к максимальному текущему номеру среди существующих нарядов для данного объекта.
3. При смене данных шамхатки, тасок, пользователей и пр. - данные в наряде не меняются.
4. Если когда-то будет поддержка алиасов для пользователей - а нарядах нам все равно нужно сквозное отображение авторов - все редакторы друг друга должны все идентифицировать однозначно. Это поинт в пользу того, что вообще не нужны нам алиасы.

### Требования к РАБОТА (отображение в нарядах)

**Сейчас** наряд - это список работ, которые:
1. находятся в рабочем статусе «Завершено»,
2. у них указаны Исполнители,
3. у них указаны выполненные объёмы,
4. они не попали в сформированные ранее наряды.

> - Больше одного раза пользователь задачу в наряды положить не может;  
> - В помещении больше одной работы данного типа быть не может (и не надо).

**Требуется**, чтобы в наряды попадали работы, обладающие свойствами:
1. находятся в рабочем статусе «Завершено»,
2. у них указаны Исполнители,
3. у них указаны выполненные объёмы
4. в этих объемах что-то изменилось по сравнению с предыдущими нарядами, которые "Отправлены на оплату" или "Оплачены".

> - Многократное попадание работы в разные наряды позволяет не пересоздавать работу в случае ее частичного выполнения - вместо этого работать с той же сущностью.  
> - Пока что кажется, что это дело вкуса, но логика и аналитика упростятся, если работа (таска) в данном помещении и в данной работе (наименовании работ) будет одной на протяжении всего выполнения.  
> - В принципе, можно было бы и пересоздавать работы, надо подумать за минусы.

### Поля работ

1. "**Исполнитель**", он же "Сотрудник";
3. "**Вид работ**", или позже станет "**Вид работ по ведомости**" (как в шахматке у подрядчика);
4. ~~"Вид работ по 1С" (как в бухгалтерии у закачика, напр. "ПИК") - позже~~;
5. "**Единица измерения**" - надо подумать, ее выносят отедльно чтобы не печатать каждый раз, а нам все равно, можем и без этого поля побойтись. С другой стороны, сортировку никто не отменял и фильтрацию;
6. "**Тип помещения**";
7. "**Этаж**";
8. "**Помещение**", она же "Ячейка" (иногда в ней пишут всякий ад: "Тамбур1,2,3" или "3,4,5,16эт 8кв" или "3-5,16кв8" или "МОП01,06" или "19-22, 28,30,31МОП", но это потому что лень вводить одно и то же. У нас автозаполнение);
9. "**Объем**" ИЛИ "Объем выполненных работ" ИЛИ "Выполненный объем" (мастером за последнюю неделю, фиксирует технадзор);
10. "**Всего**" (дефектовка показала перед началом работы) - данная цифра от наряда к наряду не меняется;
11. "**Процентовка**" - это жир, но нам не сильно много усилий будет стоит вывести проценты;
12. "**Остаток**" (всего - выполненный объем - выполненный объем - выполненый объем ...) - это объем работ, который осталось сделать, начиная со следующей недели
13. "**Расценка**"
14. "**К выплате**" - сразу перемножаем расценку на объем выполненных работ, хотя в реальности технадзоры этого не делают (лень, наверное), но опять же система за них посчитает.

### Как сейчас:

**Шаг 1**:

<img width="1000" alt="old order" src="old_work.png">

**Шаг 2**:

<img width="1000" alt="old order" src="old_work_step_2.png">


### Как надо:

**Шаг 1**:

<img width="1000" alt="new order" src="Frame 47.png">

> Тут надо Шаги поправить
> Секция лучше бы где-то заголовке была - а то распечатают и забудут
> Нужно наряды формировать не в .xlsx, а в pdf - они их в чат кидают, чтобы удобно было смотреть.

На шаге 1 формирования наряда со временем надо дойти, чтобы отражалось больше информации:
- подтянуть ссылку на предыдущий наряд по этому объекту, ушедший на оплату.
- за какой диапазон дат будет создан наряд (+ сколько в итоге дней накапало)
- какой это объект (секция)
- кто создает
- дать возможность переименования

**Шаг 2**:

<img width="1000" alt="new order" src="Frame 48.png">

На шаге 2 обращаем внимание, что договоренности по оплате с разными работниками разные
А также что могут быть работы почасовые - но мы их накак, кроме как у себя в голове не различаем.

А еще в итоге надо отобразить опасные перерасходы всякие.

- Поля 3.-8. заполняются ТН
- Поля 12.-14. заполняются ТН


"Тип помещения" может быть:
- Квартира
- МОП
- ЛК
- другие

Вообще тип помещения можно отображать в его названии напрямую.

### Сортировка и фильтрация 

При создании наряда (называется пока "реестр на выплату", но это не реестр!):

Поддерживается сортировка:
        - в готовом наряде
        - при его создании на **Шаге 1** в списке работ-задач.

А при создании наряда в списке работ поддерживается еще и фильтрация:
 - по месту проведения работ
 - по исполнителю
 - по работам

 Отметим, что **Шаг 1** при создании нового наряда ("Выбор работ") демонстрирует пользователю набор полей, являющийся подмножеством того набора полей, который будет в финальном варианте. А именно:
  - наименование работ
  - исполнителя
  - этаж
  - помещение
  - объем работ
  - к выплате.

При создании нового наряда:
1. На старте работы система должна сформировать пользователю список всех работ на данном его объекте, у которых:
    - статус "Завершена"
    - проставлены объемы
    - проставлены исполнители
    - она
        - либо не входит в ранее оплаченные наряды вообще,
        - либо входит в ранее оплаченные, но объем работ ее изменился. **На изменения дефектовки и выданных объемов работ нам по барабану**.
            - Если объем работ уменьшился, то все должно гореть красным? Надо короче не давать уменьшать объем работ в таске без последствий для оплаченных нарядов.
2. Система должна предоставлять пользователю возможность сортировать предложенные работки:
    - "по месту проведения"
    - "по Исполнителю"
    - "по работам".
3. Система должна предоставлять пользователю возможность быстро сбросить все фильтры вместе.
4. Система должна предоставлять пользователю возможность быстро сбросить каждый из фильтров по отдельности.
5. Система должна предоставлять пользователю возможность добавить работы, которые он видит, к списку выбранных.
6. Система должна отображать число работ, выбранных пользователем (может быть больше тех, что он видит).
7. Система должна позволять пользователю установить расценки для каждой из работ индивидуально для каждого исполнителя - из числа связанных с выбранными задачами. Если мы нашли 100 задач за эту неделю, и они все относятся к одному из 5 наименований работ и были выполнены одним из 15 исполнителей, то максимум, сколько расценок нам система предложит внести - это 15*5 = 75 расценок. Из этого декартова произведения отображаются только те, которые друг с другом связаны через реальную актуальную задачу, которую пользователь хочет отразить в наряде.
8. При запросе расценок у пользователя система предзаполняет все расценки, которые может, на основе последних данных.
9. После подтверждения пользователем расценок, они обновляются в базе для данного наименования работ и данного исполнителя.
10. По какому принципу осуществляется сортировка:

| N   | Поле таблицы               | Принцип                |
| --- | -------------------------- | ---------------------- |
| 1   | **Исполнитель**            | По алфавиту: ASC, DESC |
| 2   | **Вид работ по ведомости** | По алфавиту: ASC, DESC |
| 3   | **Вид работ по 1С**        | По алфавиту: ASC, DESC |
| 4   | **Этаж**                   | алф?                   |
| 5   | **Помещение**              | алф?                   |
| 6   | **Тип помещения**          | По алфавиту: ASC, DESC |
| 7   | **Объем**                  | алф?                   |
| 8   | **Всего**                  | алф?                   |
| 9   | **Процентовка**            | алф?                   |
| 10  | **Остаток**                | алф?                   |
| 11  | **Единица измерения**      | По алфавиту: ASC, DES  |
| 12  | **Расценка**               | алф?                   |
| 13  | **К выплате**              | алф?                   |

### Частичная оплата работа 

"**Частичная оплата работ**" обязывает нас поддерживать в БД структуру, которая имеет вложенность, обязательную или опциональную.
Есть ТРИ предложения по БД, одно из них тупо сделать две сущности - одно работа и другое частичная работ, и вот работа - это пустой контейнер, в котором всегда лежит как минимум одна частичная работа. У частичной работы уже есть статусы: "Ожидает дефектовку"/.../.../.../"Завершено"/"Готово к оплате".

Другой вариант - каждую неделю закрывать таски и создавать новые таски на остаток. То есть раз в неделю все задачи в шахматке принудительно обновляются. Но как тогда будет сложно версионировать? Как тогда будет сложно читать логи? Как тогда аналитику проводить?

Третий вариант - создать таблицу частичных оплат, в которую просто захоидить и проверять, были ли по данной работе транзакции. Предлагаю пойти по третьему пути. Типа то же самое, что и первый вариант, но статус у вложенной подтаски будет только про оплату и все. Остальные все свойства останутся с главной таской. На самом деле не принципиально, как в БД лежат эти подтаски, но важный момент - кому какие статусы подостаются. 

Так вот есть три принципиальных пути - статус об оплаченности может быть у куска работы или у работы отедльно у самой.
При это статус может быть 

1. Если **payment-status** = 'notPaid':
    - Cтатус выполнения работ (**progress-status**) пользователь может переключать в произвольном порядке, ограничений нет: разрешены переходы из любого состояния в любое состояние.
2. Если **payment-status** = 'readyToPay':
    - Cтатус выполнения работ пользователь может переключать в произвольном порядке, ограничений нет. То есть разрешены переходы из любого состояния в любое состояние.
3. Если **payment-status** = 'paid':
    - Cтатус выполнения работ пользователь может переключать в произвольном порядке, ограничений нет. То есть разрешены переходы из любого состояния в любое состояние.

Предлагается вести в системе ДВА статуса (у двух разных как бы сущностей)!
Первый относится к **работе**,  
Второй - к сущности **оплаченный работы кусок** (подтаска):  

- **Статус выполнения** работ ("progress-status" у таски):

 Database                         | UI                                |
| ------------------------------- | --------------------------------- |
| volumeEdit                      | "Ожидает дефектовку"              |
| draft                           | "Готово к работе"                 |
| inProgress                      | "В работе"                        |
| readyToCheckTechnicalSupervisor | "Ожидает технадзор"               |
| hasRevisions                    | "Есть замечания"                  |
| completed                       | "Завершено"                       |

В идеале переименовать некоторые статусы - некоторые нечитабельные. Но это жир.

- **Статус оплаты** работ ("payment-status" у подтаски):

 Database                         | UI                                 |
| ------------------------------- | ---------------------------------- |
| notPaid                         | Дефолтное состояние - ничего не ясно, не закончено, не оплачено |
| ~~readyToPay~~           | ~~При интеграйции с 1С при пересылке будет такой статус, когда наряд ушел на оплату~~ |
| paid                            | Пользователь переводит часть работы в этот статус вручную, мол "Кусок работ оплатили" ~~При интеграйции с 1С по факту оплаты будет проставляться автомтачиекски~~ |

### Доп требования по работам и частичному закрытию работ

1. Если дефектовка не указана или выданный объем работ не указан, то что станет с "Процентовкой", "Всего", "Остаток"? Они должны быть недоступными. БОлее того, эта их недоступность должна как-то визуально отличаться от почасовых работ!
2. Если у нас перерасход, список работ должен это отражать! Почему это в закрытие наряда не должа попасть работа, которая уже на 120% сделана? Она должна попасть, если новый объем работ у нас больше, чем объем работ в последнем созданном наряде, 
3. Пользователь сам должен перед созданием наряда надо все интересующие его работы перевести именно в статус "Завершено".  
4. Так а в чем в итоге проблема с постоянным пересозданием задач на остаток?
5. По умолчанию "Комментарий" / "Имя наряда" будет "Реестр на выплату № ХХХХХ от YYYY января 2023".
6. КАЖДЫЙ РАЗ, КАК ПОЛЬЗОВАТЕЛЬ (СОЗДАТЕЛЬ ИЛИ РЕДАКТОР) создает наряд, система должна создавать подтаски, если не сказать, что существовать они должны вообще с самого начала.
    - смысл ровно в том, что в наряд залетает подтаска, имеющая параметры, как указано прямо сейчас в таске. Хэппи-пас заключается в том, что она станет оплаченной, зафиксируется и будет потом учитываться в метриках по родительской таске. Этот статус оплаченной подтаски можно и отменить. Но это жесть полная. Фактически, мы предлагаем сделать таки транзакцию - на основе состояния системы, которое может быть сколь угодно неконсистентным.
7. Каждый раз, когда пользователь меняет в боковой панели объем готовых работ, он не может их уменьшить, если у него есть проводки по данной таске в нарядах!!!
8. Пользователь может переводить статус некоторых подтасок в ~~"Кандидат на оплачено" или даже сразу~~ "Оплачено" ручками, когда посылает закрываемый наряд координирующему лицу или в бухгалтерию. Все подтаски внутри него во-первых, создадутся, а во-вторых сразу получат статус "Оплачено" (а других, выходит, и не нужно иметь).
9. Если работа находится в статусе выполнения «Завершено», это не значит, что потом нельзя ее перевести в другой статус. Можно - в любой.  
10. При этом перевод статусов оплаты должен быть строгим (то есть перевод статуса наряда, вместе со всеми его подтасками)! При смене статуса наряда руками дожна вылезать модалка с подтерждением (или должен быть оч. строгий сопровождающий текст) - мол работы этого наряда будут учитываться как получившие полную или частичную оплату! А если отменяем статус оплачено: работы этого наряда больше не будут считаться оплаченными, что повлечет мол за собой недоразумения и коллизии различные в шахматке и боковой панели.
11. Нужна где-то жирная кнопка - пол статус наряда делаем "Оплачен". Эту кнопку можно отжать, получив что-то вроде отката.

**Как понять, что работа не попадала в ранее сформированные табели?** Сейчас статуса работы "Оплачено" нет. Наверное, возможно переводить работу в статус "Кандидат на оплачено" - ручками, когда посылаем работу куда-то координирующему лицу или в бухгалтерию. 

Пример реальной шахматки в процессе заполнения:

| № | Дата подачи | Секция | Этаж | Тип помещения | Вид работ по ведомости | Вид работ по 1С | Выполненный объем | Всего | Остаток | Ед. изм | Исполнитель | Тип работы | Кол-во часов при по часовой работе|
|-|-|-|-|-|-|-|-|-|-|-|-|-|-|
|1|25.01.2023|Секция 2|7|Квартира|Шпатлевка стен|Подготовка под финишное покрытие стен (шпатлевка по ГКЛ) (Шпатлёвка стен по ГКЛ с грунтованием (МОП, Квартиры, СТК, и дверные перемычки))||120,58900|32,77600|м2| | | |
|2|25.01.2023|Секция 2|8|Квартира|Шпатлевка стен|Подготовка под финишное покрытие стен (шпатлевка по ж/б, штукатурке)/ шпаклевка с ошкуриванием||590,47600|0,00000|м2||||			
|47|25.01.2023|Секция 4|12|МОП|Укладка керамогранита на пол|Укладка керамогранита на пол|8,00000|78,20000|8,00000|м2|Петров Иван Сидорович|Сдельная||
|48|25.01.2023|Секция 4|9|МОП|Установка плинтуса из керамогранита|Установка плинтуса из керамогранита|82,00000|82,00000|0,00000|м.пог.|Петров Иван Сидорович|Сдельная||

### Требования к РЕЕСТР НА ВЫПЛАТУ

"Реестр на выплату" - это финансовая выжимка на основе наряда.  
Поскольку "Оплаченность" важна именно в разрезе какой-то определенной работы или части этой работы, связь с реестрами на выплату должна быть железная! То есть реестр - это отписка, а основная сущность - это наряд с детализацией и, главное, с прицепленными подтасками.

1. Другие требования: когда пролистываешь наряд вниз, заголовки должны прилипнуть к верхней части. При этом подумать, как быть с правой частью.
2. У каждой таски есть, получаетя какой-то айдишник в разрезе конкретного наряда. Наверное, он должен генерироваться и голову можно не морочить.
3. Элементы списка нарядов (наряды) удаляются жестко.
4. Система должна предложить отменить действие хотя бы 5 секунд
5. Очень напрашивается система версионирования на проработку - в том числе с этими логами и пр. 
6. Вообще важный момент, что мы таки указываем сдельные работы в нарядах.
7. ССЫЛКА НА РЕЕСТР НА ВЫПЛАТУ С ВОЗМОЖНОСТЬЮ СКАЧАТЬ ДОЛЖНА БЫТЬ ПРИЦЕПЛЕНА К НАРЯДУ. и реестр на выплату также как бы держит внутри данные, актуальные на какой-то момент и неизменяемые.

### Отчеты

Это вообще бог его знает что такое, оно на самом деле - просто расширенное представление текущей информации о шахматке... С сылками на все актуальные работы... Отчеты все-таки за какой-то период все же предполагаются? а тут что-то вроде развертки шахматки по разным измерениям данных. Ладно, вы не понимаете, это другое.